/**
 * Evaluation monitoring
 *
 * @copyright 2013 onward Juan Carlos Rodríguez-del-Pino
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @author Juan Carlos Rodríguez-del-Pino <jcrodriguez@dis.ulpgc.es>
 */
define("mod_vpl/evaluationmonitor",["mod_vpl/vplui"],(function(VPLUI){return{init:function(options){function showErrorMessage(message){VPLUI.showErrorMessage(message,{next:options.next})}var action;options.next=function(){window.location=options.nexturl};var executionActions={ajaxurl:options.ajaxurl,run:showErrorMessage,getLastAction:function(){action()}};(action=function(){VPLUI.requestAction("evaluate","evaluating",{},options.ajaxurl).done((function(response){VPLUI.webSocketMonitor(response,"evaluate","evaluating",executionActions).done(options.next).fail(showErrorMessage)})).fail(showErrorMessage)})()}}}));

//# sourceMappingURL=evaluationmonitor.min.js.map